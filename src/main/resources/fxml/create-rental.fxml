<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns:fx="http://javafx.com/fxml/1"
      xmlns="http://javafx.com/javafx/17"
      fx:controller="com.autohub.autohub.frontend.controllers.CreateRentalController"
      prefWidth="900"
      prefHeight="700"
      style="-fx-background-color: #f8fafc;">

    <padding>
        <Insets top="32" right="40" bottom="32" left="40"/>
    </padding>

    <!-- HEADER -->
    <HBox alignment="CENTER_LEFT" spacing="16" style="-fx-padding: 0 0 24 0;">
        <VBox spacing="4" HBox.hgrow="ALWAYS">
            <Label text="Create New Rental"
                   style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #0f172a;"/>
            <Label text="Fill in the details to generate a new rental invoice"
                   style="-fx-font-size: 14px; -fx-text-fill: #64748b;"/>
        </VBox>
        <Button fx:id="btnClose" text="âœ•" onAction="#handleClose"
                style="-fx-background-color: #f3f4f6; -fx-text-fill: #64748b;
                       -fx-font-size: 18px; -fx-padding: 8 14; -fx-background-radius: 8;
                       -fx-cursor: hand; -fx-border-width: 0;"/>
    </HBox>

    <ScrollPane fitToWidth="true" style="-fx-background-color: transparent; -fx-border-width: 0;"
                VBox.vgrow="ALWAYS">
        <VBox spacing="24" style="-fx-padding: 0;">

            <!-- CUSTOMER SECTION -->
            <VBox spacing="16" style="-fx-background-color: white; -fx-background-radius: 12;
                                     -fx-padding: 24; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 12, 0, 0, 3);">
                <Label text="Customer Information"
                       style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #0f172a;"/>

                <HBox spacing="16">
                    <VBox spacing="8" HBox.hgrow="ALWAYS">
                        <Label text="Customer Name *"
                               style="-fx-font-size: 13px; -fx-text-fill: #374151; -fx-font-weight: 600;"/>
                        <TextField fx:id="txtCustomerName" promptText="Enter customer full name"
                                   style="-fx-background-color: #f9fafb; -fx-border-color: #e5e7eb;
                                          -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 12;"/>
                    </VBox>

                    <VBox spacing="8" HBox.hgrow="ALWAYS">
                        <Label text="Email *"
                               style="-fx-font-size: 13px; -fx-text-fill: #374151; -fx-font-weight: 600;"/>
                        <TextField fx:id="txtCustomerEmail" promptText="customer@example.com"
                                   style="-fx-background-color: #f9fafb; -fx-border-color: #e5e7eb;
                                          -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 12;"/>
                    </VBox>
                </HBox>

                <HBox spacing="16">
                    <VBox spacing="8" HBox.hgrow="ALWAYS">
                        <Label text="Phone Number *"
                               style="-fx-font-size: 13px; -fx-text-fill: #374151; -fx-font-weight: 600;"/>
                        <TextField fx:id="txtCustomerPhone" promptText="+20 123 456 7890"
                                   style="-fx-background-color: #f9fafb; -fx-border-color: #e5e7eb;
                                          -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 12;"/>
                    </VBox>

                    <VBox spacing="8" HBox.hgrow="ALWAYS">
                        <Label text="License Number"
                               style="-fx-font-size: 13px; -fx-text-fill: #374151; -fx-font-weight: 600;"/>
                        <TextField fx:id="txtLicenseNumber" promptText="Driver's license number"
                                   style="-fx-background-color: #f9fafb; -fx-border-color: #e5e7eb;
                                          -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 12;"/>
                    </VBox>
                </HBox>
            </VBox>

            <!-- CAR SELECTION -->
            <VBox spacing="16" style="-fx-background-color: white; -fx-background-radius: 12;
                                     -fx-padding: 24; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 12, 0, 0, 3);">
                <Label text="Select Car"
                       style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #0f172a;"/>

                <VBox spacing="8">
                    <Label text="Available Cars *"
                           style="-fx-font-size: 13px; -fx-text-fill: #374151; -fx-font-weight: 600;"/>
                    <ComboBox fx:id="cmbCar" promptText="Choose a car..."
                              maxWidth="Infinity"
                              style="-fx-background-color: #f9fafb; -fx-border-color: #e5e7eb;
                                     -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 8;"/>
                </VBox>

                <!-- Car Details Preview -->
                <HBox fx:id="carPreview" spacing="16" alignment="CENTER_LEFT" visible="false" managed="false"
                      style="-fx-background-color: #f0f9ff; -fx-padding: 16; -fx-background-radius: 8; -fx-border-color: #0284c7; -fx-border-radius: 8;">
                    <VBox spacing="4" HBox.hgrow="ALWAYS">
                        <Label fx:id="lblCarName"
                               style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #0f172a;"/>
                        <Label fx:id="lblCarBrand" style="-fx-font-size: 13px; -fx-text-fill: #64748b;"/>
                        <Label fx:id="lblCarPrice"
                               style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #10b981;"/>
                    </VBox>
                </HBox>
            </VBox>

            <!-- RENTAL PERIOD -->
            <VBox spacing="16" style="-fx-background-color: white; -fx-background-radius: 12;
                                     -fx-padding: 24; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 12, 0, 0, 3);">
                <Label text="Rental Period"
                       style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #0f172a;"/>

                <HBox spacing="16">
                    <VBox spacing="8" HBox.hgrow="ALWAYS">
                        <Label text="Start Date *"
                               style="-fx-font-size: 13px; -fx-text-fill: #374151; -fx-font-weight: 600;"/>
                        <DatePicker fx:id="dpStartDate"
                                    maxWidth="Infinity"
                                    style="-fx-background-color: #f9fafb; -fx-border-color: #e5e7eb;
                                           -fx-border-radius: 8; -fx-background-radius: 8;"/>
                    </VBox>

                    <VBox spacing="8" HBox.hgrow="ALWAYS">
                        <Label text="End Date *"
                               style="-fx-font-size: 13px; -fx-text-fill: #374151; -fx-font-weight: 600;"/>
                        <DatePicker fx:id="dpEndDate"
                                    maxWidth="Infinity"
                                    style="-fx-background-color: #f9fafb; -fx-border-color: #e5e7eb;
                                           -fx-border-radius: 8; -fx-background-radius: 8;"/>
                    </VBox>
                </HBox>

                <HBox spacing="16" alignment="CENTER_LEFT"
                      style="-fx-background-color: #fef3c7; -fx-padding: 12 16; -fx-background-radius: 8;">
                    <Label fx:id="lblDuration" text="Duration: 0 days"
                           style="-fx-font-size: 14px; -fx-font-weight: 600; -fx-text-fill: #92400e;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label fx:id="lblTotalAmount" text="Total: $0"
                           style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #10b981;"/>
                </HBox>
            </VBox>

        </VBox>
    </ScrollPane>

    <!-- FOOTER BUTTONS -->
    <HBox spacing="16" alignment="CENTER_RIGHT" style="-fx-padding: 24 0 0 0;">
        <Button text="Cancel" onAction="#handleClose"
                style="-fx-background-color: #f3f4f6; -fx-text-fill: #374151;
                       -fx-padding: 12 32; -fx-background-radius: 8; -fx-cursor: hand;
                       -fx-font-size: 14px; -fx-font-weight: 600;"/>

        <Button fx:id="btnCreateRental" text="Create Rental" onAction="#handleCreateRental"
                style="-fx-background-color: #2563eb; -fx-text-fill: white;
                       -fx-padding: 12 32; -fx-background-radius: 8; -fx-cursor: hand;
                       -fx-font-size: 14px; -fx-font-weight: 600;"/>
    </HBox>

</VBox>
